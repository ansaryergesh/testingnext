_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[19],{"HaE+":function(t,e,n){"use strict";function a(t,e,n,a,s,c,o){try{var r=t[c](o),i=r.value}catch(u){return void n(u)}r.done?e(i):Promise.resolve(i).then(a,s)}function s(t){return function(){var e=this,n=arguments;return new Promise((function(s,c){var o=t.apply(e,n);function r(t){a(o,s,c,r,i,"next",t)}function i(t){a(o,s,c,r,i,"throw",t)}r(void 0)}))}}n.d(e,"a",(function(){return s}))},M7WW:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/aggrements",function(){return n("zJ0N")}])},zJ0N:function(t,e,n){"use strict";n.r(e);var a=n("o0o1"),s=n.n(a),c=n("HaE+"),o=n("1OyB"),r=n("vuIU"),i=n("Ji7U"),u=n("md7G"),l=n("foSv"),d=n("nKUr"),h=n("q1tI"),p=n.n(h),f=n("nOHt"),m=n.n(f),g=n("vDqi"),v=n.n(g),j=n("GUC0"),k=n.n(j);function b(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=Object(l.a)(t);if(e){var s=Object(l.a)(this).constructor;n=Reflect.construct(a,arguments,s)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}function y(t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var e=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(location.search);return null===e?"":decodeURIComponent(e[1].replace(/\+/g," "))}var x=function(t){Object(i.a)(n,t);var e=b(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).state={token:null,loading:!1,docs:[],id:null,id_req:null,sign:"",isCodeSent:!1,code_conf:null,errorInCode:null,phone:null,rest:null},a}return Object(r.a)(n,[{key:"getUserDocument",value:function(){var t=Object(c.a)(s.a.mark((function t(e){var n=this;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.setState({loading:!0}),t.next=3,v.a.get("https://api.money-men.kz/api/getData?token=".concat(e)).then((function(t){console.log(e),t.data.success?n.setState({docs:t.data.docs,id:t.data.id,id_req:t.data.id_req,loading:!1,rest:t.data.rest,phone:t.data.phone}):(console.log(t.data.message),m.a.push("/")),console.log(n.state.docs)})).catch((function(t){n.setState({loading:!1}),m.a.push("/"),console.log(t.message)}));case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getCode",value:function(){var t=Object(c.a)(s.a.mark((function t(){var e=this;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.a.get("https://api.money-men.kz/api/sendSms?phone=".concat(this.state.phone),{headers:{"Content-Type":"application/json",Accept:"application/json"}});case 2:console.log("start").then((function(t){console.log(t),t.success&&e.setState({isCodeSent:!0})})).catch((function(t){console.log(t)}));case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"sendAgreementStatusForRest",value:function(){var t=Object(c.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===this.state.code_conf){t.next=3;break}return t.next=3,v.a.get("https://api.money-men.kz/api/sendSms",{params:{id:this.state.id,phone:this.state.phone,token:this.state.token,id_req:this.state.id_req,code:this.state.code_conf,sign:"y"}},{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(t){t.success&&k()("\u0423\u0441\u043f\u0435\u0448\u043d\u043e!","".concat(t.message),"success").then((function(){m.a.push("/")}))})).catch((function(t){console.log(t)}));case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"sendAgreementStatus",value:function(){var t=Object(c.a)(s.a.mark((function t(){var e=this;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.setState({loading:!0});try{v.a.get("agreement",{params:{id:this.state.id,phone:this.state.phone,token:this.state.token,id_req:this.state.id_req,sign:"y"}}).then((function(t){e.setState({loading:!1}),t.success&&k()("\u0423\u0441\u043f\u0435\u0448\u043d\u043e!","".concat(t.data.message),"success").then((function(){m.a.push("/")}))}))}catch(n){this.setState({loading:!1}),console.log(n),m.a.push("/")}case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){0===y("token").length?m.a.push("/"):this.setState({token:y("token")}),this.getUserDocument(0!==y("token").length?y("token"):null)}},{key:"render",value:function(){var t=this;return Object(d.jsxs)("div",{className:"container otherPages",children:[this.state.loading?Object(d.jsx)("div",{className:"modelLoader"}):Object(d.jsx)("div",{className:"modelLoader loaded",children:" "}),Object(d.jsx)("div",{className:"row justify-content-center",children:Object(d.jsx)("div",{className:"col-md-12",children:Object(d.jsxs)("div",{className:"agreements-block",children:[Object(d.jsx)("h4",{align:"center",children:"\u0421\u043e\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),Object(d.jsx)("ul",{className:"complete",children:this.state.docs.map((function(t){return Object(d.jsx)("li",{children:Object(d.jsx)("a",{href:t.link,target:"_blank",children:t.name})})}))}),Object(d.jsx)("div",{className:"repeatBtn form-group",children:Object(d.jsx)("button",{onClick:function(){return t.sendAgreementStatus()},className:"mt-5",children:"\u0421\u043e\u0433\u043b\u0430\u0448\u0430\u044e\u0441\u044c"})})]})})})]})}}]),n}(p.a.Component);e.default=x}},[["M7WW",0,1,2,3,4,6]]]);